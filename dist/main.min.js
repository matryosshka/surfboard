!function(){let e=document.querySelector(".hamburger"),a=document.querySelector(".burger-menu"),t=document.querySelector(".burger-menu__close"),n=document.querySelectorAll(".burger-menu__link");e.addEventListener("click",e=>{e.preventDefault(),a.classList.add("burger-menu-active")}),n.forEach(t=>{t.addEventListener("click",e=>{n.forEach(e=>{e.classList.remove("burger-link-active")}),t.classList.add("burger-link-active"),t.classList.contains("burger-link-active")&&a.classList.remove("burger-menu-active")})}),t.addEventListener("click",e=>{e.preventDefault(),a.classList.remove("burger-menu-active")})}();const mesureWidth=e=>{let t=0;var a=$(window).width();const n=e.closest(".menu-acco__list"),i=n.find(".menu-acco__button");var o=i.width()*i.length;const s=e.find(".menu-acco__desc");var e=parseInt(s.css("padding-left")),c=parseInt(s.css("padding-right")),r=window.matchMedia("(max-width: 786px)").matches;return{container:t=r?a-o:500,textContainer:t-c-e}},closeEveryItemInContainer=e=>{const t=e.find(".menu-acco__item"),a=e.find(".menu-acco__content");t.removeClass("active"),a.width(0)},openItem=e=>{const t=e.find(".menu-acco__content");var a=mesureWidth(e);const n=e.find(".menu-acco__desc");e.addClass("active"),t.width(a.container),n.width(a.textContainer)};$(".menu-acco__button").on("click",e=>{e.preventDefault();const t=$(e.currentTarget),a=t.closest(".menu-acco__item");var e=a.hasClass("active"),n=t.closest(".menu-acco__list");e?closeEveryItemInContainer(n):(closeEveryItemInContainer(n),openItem(a))});let myMap;const init=()=>{myMap=new ymaps.Map("map",{center:[55.752004,37.576133],zoom:16,controls:[]});let t=[[55.752004,37.576133]],a=new ymaps.GeoObjectCollection({},{draggable:!1,iconLayout:"default#image",iconImageHref:"./img/icons/geo.svg",iconImageSize:[58,73],iconImageOffset:[-35,-52]});for(let e=0;e<t.length;e++)a.add(new ymaps.Placemark(t[e]));myMap.geoObjects.add(a),myMap.behaviors.disable("scrollZoom")},validateFields=(ymaps.ready(init),(e,t)=>{return t.forEach(e=>{e.removeClass("input-error"),""===e.val().trim()&&e.addClass("input-error")}),0===e.find(".input-error").length});$(".form").submit(e=>{e.preventDefault();const t=$(e.currentTarget),a=t.find("[name='name']"),n=t.find("[name='phone']"),i=t.find("[name='comment']"),o=t.find("[name='to']"),s=$("#modal"),c=s.find(".modal__content");if(s.removeClass("error-modal"),validateFields(t,[a,n,i,o])){const r=$.ajax({url:"https://webdev-api.loftschool.com/sendmail",method:"post",data:{name:a.val(),phone:n.val(),comment:i.val(),to:o.val()}});r.done(e=>{c.text(e.message),s.addClass("success-modal")}),r.fail(e=>{e=e.responseJSON.message;c.text(e),s.addClass("error-modal")}),r.always(()=>{$.fancybox.open({src:"#modal",type:"inline",smallBtn:!1})})}}),$(".app-submit-btn").click(e=>{e.preventDefault(),$.fancybox.close()}),function(){const n=$("section"),a=$(".maincontent"),i=$(".fixed-menu"),o=i.find(".fixed-menu__item"),e=new MobileDetect(window.navigator.userAgent);var t=e.mobile();let s=!1;n.first().addClass("active");const c=e=>{e*=-100;return isNaN(e)?(console.error("передано неверное значение в countSectionPosition"),0):e},r=e=>{const t=n.eq(e);e=t.attr("data-sidemenu-theme");const a=$(".fixed-menu__link");"black"===e?(i.addClass("fixed-menu--shadowed"),a.addClass("fixed-menu__link--shadowed")):(i.removeClass("fixed-menu--shadowed"),a.removeClass("fixed-menu__link--shadowed"))},l=(e,t,a)=>{e.eq(t).addClass(a).siblings().removeClass(a)},d=e=>{var t;s||(s=!0,t=c(e),r(e),a.css({transform:`translateY(${t}%)`}),l(n,e,"active"),setTimeout(()=>{s=!1,l(o,e,"fixed-menu__item--active")},1e3))},m=()=>{const e=n.filter(".active"),t=e.next(),a=e.prev();return{next(){t.length&&d(t.index())},prev(){a.length&&d(a.index())}}};$(window).on("wheel",e=>{e=e.originalEvent.deltaY;const t=m();0<e&&t.next(),e<0&&t.prev()}),$(window).on("keydown",e=>{var t=e.target.tagName.toLowerCase(),t="input"===t||"textarea"===t;const a=m();if(!t)switch(e.keyCode){case 38:a.prev();break;case 40:a.next()}}),$(".wrapper").on("touchmove",e=>e.preventDefault()),$("[data-scroll-to]").click(e=>{e.preventDefault();const t=$(e.currentTarget);e=t.attr("data-scroll-to");const a=$(`[data-section-id=${e}]`);d(a.index())}),t&&$("body").swipe({swipe:function(e,t){const a=m();let n="down"===t?"prev":"up"===t?"next":"";n&&a[n]()}})}(),$(".interactive-avatar__link").click(e=>{e.preventDefault();const t=$(e.currentTarget);var a,e=t.attr("data-open");a=e;const n=$(".review__item").filter((e,t)=>$(t).attr("data-linked-with")===a),i=t.closest(".review__switcher-item",".interactive-avatar");n.addClass("review__item--active").siblings().removeClass("review__item--active"),i.addClass("interactive-avatar--active").siblings().removeClass("interactive-avatar--active")}),function(){const t=$(".products__list").bxSlider({pager:!1,controls:!1});$(".products__arrow--prev").click(e=>{e.preventDefault(),t.goToPrevSlide()}),$(".products__arrow--next").click(e=>{e.preventDefault(),t.goToNextSlide()})}(),function(){const r=e=>{const t=e.find(".team__content"),a=e.find(".team__item"),n=e.find(".team__icon-img"),i=e.find(".team__name");a.removeClass("active"),n.removeClass("team__icon-img--active"),i.removeClass("team__name--color"),t.height(0)};$(".team__button").click(e=>{const t=$(e.currentTarget);e=t.closest(".team__list");const a=t.closest(".team__item");if(a.hasClass("active"))r(e);else{r(e);{e=t;const n=e.closest(".team__item"),i=n.find(".team__content"),o=i.find(".team__content-block"),s=(e=o.height(),n.find(".team__icon-img")),c=n.find(".team__name");n.addClass("active"),s.addClass("team__icon-img--active"),c.addClass("team__name--color"),i.height(e)}}})}(),function(){const e=document.querySelector(".video__player-img"),a=document.getElementById("player"),t=document.querySelector(".duration__img"),n=document.getElementById("durationLevel"),i=document.getElementById("micLevel"),o=document.getElementById("soundBtn"),s=document.getElementById("dynamic");let c,r;function l(){e.classList.toggle("video__player-img--active"),t.classList.toggle("duration__img-pause"),a.paused?(a.play(),c=setInterval(m,1e3/60)):(clearInterval(c),a.pause())}function d(){a.currentTime=n.value,m()}function m(){n.value=a.currentTime;var e=a.duration/100,e=a.currentTime/e;n.style.background=`linear-gradient(90deg, #FEDB3F 0%, #FEDB3F ${e}%, #626262 ${e}%)`}function u(){a.volume=i.value/10,0===a.volume?o.classList.add("active"):o.classList.remove("active")}function v(){0===a.volume?(a.volume=r,i.value=10*r,o.classList.remove("active")):(r=a.volume,a.volume=0,i.value=0,o.classList.add("active"))}window.addEventListener("load",function(){a.addEventListener("click",l);let t=document.querySelectorAll(".play");for(let e=0;e<t.length;e++)t[e].addEventListener("click",l);n.min=0,n.value=0,n.max=a.duration,n.addEventListener("input",d),i.min=0,i.max=10,i.value=i.max,i.addEventListener("input",u),s.addEventListener("click",v)}),a.addEventListener("ended",()=>{e.classList.toggle("video__player-img--active"),t.classList.remove("duration__img-pause"),a.currentTime=0})}();